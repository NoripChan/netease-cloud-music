{"version":3,"sources":["webpack:///./src/components/playList.vue?3b45","webpack:///./src/components/playList.vue","webpack:///./src/components/playList.vue?c5d5","webpack:///./src/components/playList.vue?42fd"],"names":["class","aria-hidden","xlink:href","$store","state","playlist","tracks","length","store","getters","item","index","key","name","authorByIndex","ablumByIndex","sleep","delay","Promise","resolve","setTimeout","props","computed","console","log","this","methods","data","listLength","setup","ctx","idAsRefs","playlistId","value","a","get","params","id","response","commit","updatePlayList","render","__scopeId"],"mappings":"yIAAA,W,4GCUOA,MAAM,qB,GACJA,MAAM,U,GACJA,MAAM,Q,EACT,eAEM,OAFDA,MAAM,OAAOC,cAAY,Q,CAC5B,eAAqC,OAAhCC,aAAW,mB,KAElB,eAA8B,QAAxBF,MAAM,QAAO,QAAI,G,GAEjBA,MAAM,S,GAITA,MAAM,S,GACJA,MAAM,O,GAKVA,MAAM,mB,GAMFA,MAAM,Q,GACJA,MAAM,S,GACNA,MAAM,Q,GACJA,MAAM,O,GACNA,MAAM,U,GACJA,MAAM,U,GAGNA,MAAM,S,8UAhCvB,eA+CM,MA/CN,EA+CM,CA9CJ,eAgBM,MAhBN,EAgBM,CAfJ,eASM,MATN,EASM,CARJ,EAGA,EAEA,eAEC,OAFD,EACG,KAAE,eAAG,EAAAG,OAAOC,MAAMC,SAASC,OAAOC,QAAS,KAAE,KAGlD,eAIM,MAJN,EAIM,CAHJ,eAEM,MAFN,EAAiB,SACV,eAAG,EAAAC,MAAMJ,MAAMC,SAASC,OAAOC,QAAS,MAC/C,OAGJ,eA4BM,MA5BN,EA4BM,E,mBA3BJ,eA0BM,2BAxBoB,EAAAJ,OAAOM,QAAQH,QAAM,SAArCI,EAAMC,G,wBAFhB,eA0BM,OAzBJX,MAAM,eAELY,IAAKD,G,CAEN,eAWM,MAXN,EAWM,CAVJ,eAAoC,MAApC,EAAoC,eAAdA,GAAK,GAC3B,eAQM,MARN,EAQM,CAPJ,eAAsC,MAAtC,EAAsC,eAAlBD,EAAKG,MAAI,GAC7B,eAKM,MALN,EAKM,CAJJ,eAEM,MAFN,EAEM,eADD,EAAAV,OAAOM,QAAQK,cAAcH,IAAK,GAEvC,eAAiE,MAAjE,EAAiE,eAA3C,EAAAR,OAAOM,QAAQM,aAAaJ,IAAK,SAI7D,O,8GCxCR,SAASK,EAAMC,GACb,OAAO,IAAIC,SAAQ,SAACC,GAClBC,YAAW,WACTD,GAAQ,KACPF,MAIQ,OACbJ,KAAM,WACNQ,MAAO,CAAC,cACRC,SAAU,eAAS,CACjBhB,OAAQ,SAAUF,GAGhB,OAFAmB,QAAQC,IAAI,oBAAqBC,MAE1BA,KAAKtB,OAAOC,MAAMC,SAASC,UAGtCoB,QAAS,GAETC,KAZa,WAaX,MAAO,CACLC,WAAY,IAGhBC,MAjBa,SAiBPC,GACJ,IAGIxB,EAHAE,EAAQ,iBACNuB,EAAW,eAAOD,GAsBxB,OArBAP,QAAQC,IAAI,gBAAiBM,EAAKC,EAASC,WAAWC,OAGtD,eAAa,wCAAC,oHAIJjB,EAAM,KAJF,OAKVO,QAAQC,IAAI,aALF,WAMFM,EAAIE,WANF,uCAQK,EAAAE,EAAMC,IAAI,mBAAoB,CAC7CC,OAAQ,CACNC,GAAIN,EAASC,WAAWC,SAVhB,cAQZK,EARY,OAaZf,QAAQC,IAAIc,EAASX,MAbT,UAeNnB,EAAM+B,OAAO,OAAKA,OAAOC,eAAgBF,EAASX,KAAKtB,UAfjD,6CAkBP,CACLG,QACAF,Y,UCpDN,EAAOmC,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"js/chunk-76c9260f.231238c9.js","sourcesContent":["export * from \"-!../../node_modules/.pnpm/registry.nlark.com+mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/.pnpm/registry.nlark.com+css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/.pnpm/registry.nlark.com+vue-loader@16.5.0_ff415a782880ca6b35acaee1a72fa4c4/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/.pnpm/registry.nlark.com+postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/.pnpm/registry.nlark.com+less-loader@5.0.0_less@3.13.1/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/registry.nlark.com+vue-loader@16.5.0_ff415a782880ca6b35acaee1a72fa4c4/node_modules/vue-loader/dist/index.js??ref--0-1!./playList.vue?vue&type=style&index=0&id=9ec2021c&lang=less&scoped=true\"","<!--\r\n * @Author: Norip Chan\r\n * @Date: 2021-09-21 19:45:49\r\n * @LastEditTime: 2021-09-26 12:47:00\r\n * @LastEditors: Norip Chan\r\n * @Description: \r\n * @FilePath: \\netease-cloud-music\\src\\components\\playList.vue\r\n * 可以输入预定的版权声明、个性签名、空行等\r\n-->\r\n<template>\r\n  <div class=\"playlistContainer\">\r\n    <div class=\"topNav\">\r\n      <div class=\"left\">\r\n        <svg class=\"icon\" aria-hidden=\"true\">\r\n          <use xlink:href=\"#icon-ziyuan\"></use>\r\n        </svg>\r\n        <span class=\"txt1\">播放全部</span>\r\n\r\n        <span class=\"total\"\r\n          >（共{{ $store.state.playlist.tracks.length }}首）</span\r\n        >\r\n      </div>\r\n      <div class=\"right\">\r\n        <div class=\"btn\">\r\n          +收藏（共{{ store.state.playlist.tracks.length }}首）\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"playlistContent\">\r\n      <div\r\n        class=\"playlistItem\"\r\n        v-for=\"(item, index) in $store.getters.tracks\"\r\n        :key=\"index\"\r\n      >\r\n        <div class=\"left\">\r\n          <div class=\"index\">{{ index }}</div>\r\n          <div class=\"body\">\r\n            <div class=\"top\">{{ item.name }}</div>\r\n            <div class=\"buttom\">\r\n              <div class=\"author\">\r\n                {{ $store.getters.authorByIndex(index) }}\r\n              </div>\r\n              <div class=\"ablum\">{{ $store.getters.ablumByIndex(index) }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"right\">\r\n          <svg class=\"icon\" aria-hidden=\"true\">\r\n            <use xlink:href=\"#icon-ziyuan\"></use>\r\n          </svg>\r\n\r\n          <svg class=\"icon\" aria-hidden=\"true\">\r\n            <use xlink:href=\"#icon-more\"></use>\r\n          </svg>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { toRefs, onBeforeMount, computed, reactive, ref } from \"vue\";\r\nimport { useStore, mapState } from \"vuex\";\r\nimport axios from \"axios\";\r\nimport Type from \"@/store/type\";\r\n\r\nfunction sleep(delay: number) {\r\n  return new Promise((resolve) => {\r\n    setTimeout(() => {\r\n      resolve(true);\r\n    }, delay);\r\n  });\r\n}\r\n\r\nexport default {\r\n  name: \"playList\",\r\n  props: [\"playlistId\"],\r\n  computed: mapState({\r\n    tracks: function (state: any) {\r\n      console.log(\"---in computed---\", this);\r\n\r\n      return this.$store.state.playlist.tracks;\r\n    },\r\n  }),\r\n  methods: {\r\n  },\r\n  data() {\r\n    return {\r\n      listLength: 9,\r\n    };\r\n  },\r\n  setup(ctx: any) {\r\n    let store = useStore();\r\n    const idAsRefs = toRefs(ctx);\r\n    console.log(\"----setup----\", ctx, idAsRefs.playlistId.value);\r\n    let tracks;\r\n\r\n    onBeforeMount(async () => {\r\n      let response: any;\r\n\r\n      do {\r\n        await sleep(5000);\r\n        console.log(\"sleep 5s.\");\r\n      } while (!ctx.playlistId);\r\n\r\n      response = await axios.get(\"/playlist/detail\", {\r\n        params: {\r\n          id: idAsRefs.playlistId.value,\r\n        },\r\n      });\r\n      console.log(response.data);\r\n\r\n      await store.commit(Type.commit.updatePlayList, response.data.playlist);\r\n    });\r\n\r\n    return {\r\n      store,\r\n      tracks,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.playlistContainer {\r\n  \r\n  width: 7.5rem;\r\n  height: 1rem;\r\n\r\n  .topNav {\r\n    width: 7.5rem;\r\n    height: 1rem;\r\n    display: flex;\r\n    justify-content: space-between;\r\n\r\n    .right {\r\n      width: 3rem;\r\n      height: 1rem;\r\n      display: flex;\r\n      justify-content: flex-end;\r\n      align-items: center;\r\n\r\n      .btn {\r\n        width: 2.5rem;\r\n        height: 0.7rem;\r\n        background-color: red;\r\n        border-radius: 0.4rem;\r\n        color: white;\r\n        font-size: 0.3rem;\r\n        line-height: 0.7rem;\r\n        text-align: end;\r\n        margin-right: 0.2rem;\r\n      }\r\n    }\r\n\r\n    .left {\r\n      width: 4rem;\r\n      height: 1rem;\r\n      display: flex;\r\n      justify-content: flex-start;\r\n      align-items: center;\r\n\r\n      .icon {\r\n        width: 0.5rem;\r\n        height: 0.5rem;\r\n        margin-left: 0.5rem;\r\n      }\r\n\r\n      span {\r\n        font-size: 0.35rem;\r\n      }\r\n\r\n      .txt1 {\r\n        color: black;\r\n        font-weight: 900;\r\n      }\r\n\r\n      .total {\r\n        font-size: 0.3rem;\r\n        color: brown;\r\n      }\r\n    }\r\n  }\r\n\r\n  .playlistContent {\r\n    // width:7.5rem;\r\n    // display: flex;\r\n    // justify-content: space-between;\r\n    // align-items: center;\r\n    .playlistItem {\r\n      width: 7.5rem;\r\n      height: 1rem;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n\r\n      .left {\r\n        height: 1rem;\r\n        width: 5rem;\r\n        display: flex;\r\n        justify-content: flex-start;\r\n        align-items: center;\r\n\r\n        .index {\r\n          height: 1rem;\r\n          width: 0.4rem;\r\n          font-size: 0.5rem;\r\n          line-height: 1rem;\r\n          margin-left: 0.1rem;\r\n        }\r\n\r\n        .body {\r\n          width: 2.7rem;\r\n          height: 1rem;\r\n          display: flex;\r\n          flex-direction: column;\r\n\r\n          .top {\r\n            width: 2.7rem;\r\n            height: 0.5rem;\r\n            font-size: 0.3rem;\r\n            font-weight: 300;\r\n            line-height: 0.5rem;\r\n            overflow: hidden;\r\n            white-space: nowrap;\r\n            margin-bottom: -0.1rem;\r\n            margin-top: 0.1rem;\r\n            // overflow: ellipsis;\r\n          }\r\n\r\n          .buttom {\r\n            margin-top: -0.1rem;\r\n            width: 2.7rem;\r\n            height: 0.5rem;\r\n            line-height: 0.5rem;\r\n            display: flex;\r\n            justify-content: flex-start;\r\n            align-items: center;\r\n\r\n            .author {\r\n              font-size: 0.25rem;\r\n              line-height: 0.5rem;\r\n              overflow: hidden;\r\n              white-space: nowrap;\r\n              // overflow: ellipsis;\r\n            }\r\n\r\n            .ablum {\r\n              font-size: 0.25rem;\r\n              line-height: 0.5rem;\r\n              color: red;\r\n              overflow: hidden;\r\n              white-space: nowrap;\r\n              // overflow: ellipsis;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      .right {\r\n        width:2.3rem;\r\n        height: 1rem;\r\n        display: flex;\r\n        justify-content: flex-end;\r\n        align-items: center;\r\n\r\n        .icon {\r\n          width:0.5rem;\r\n          height: 0.5rem;\r\n          fill:#ccc;\r\n          margin-right: .15rem;\r\n        }\r\n\r\n      }\r\n    }\r\n\r\n\r\n  }\r\n}\r\n</style>","\r\nimport { toRefs, onBeforeMount, computed, reactive, ref } from \"vue\";\r\nimport { useStore, mapState } from \"vuex\";\r\nimport axios from \"axios\";\r\nimport Type from \"@/store/type\";\r\n\r\nfunction sleep(delay: number) {\r\n  return new Promise((resolve) => {\r\n    setTimeout(() => {\r\n      resolve(true);\r\n    }, delay);\r\n  });\r\n}\r\n\r\nexport default {\r\n  name: \"playList\",\r\n  props: [\"playlistId\"],\r\n  computed: mapState({\r\n    tracks: function (state: any) {\r\n      console.log(\"---in computed---\", this);\r\n\r\n      return this.$store.state.playlist.tracks;\r\n    },\r\n  }),\r\n  methods: {\r\n  },\r\n  data() {\r\n    return {\r\n      listLength: 9,\r\n    };\r\n  },\r\n  setup(ctx: any) {\r\n    let store = useStore();\r\n    const idAsRefs = toRefs(ctx);\r\n    console.log(\"----setup----\", ctx, idAsRefs.playlistId.value);\r\n    let tracks;\r\n\r\n    onBeforeMount(async () => {\r\n      let response: any;\r\n\r\n      do {\r\n        await sleep(5000);\r\n        console.log(\"sleep 5s.\");\r\n      } while (!ctx.playlistId);\r\n\r\n      response = await axios.get(\"/playlist/detail\", {\r\n        params: {\r\n          id: idAsRefs.playlistId.value,\r\n        },\r\n      });\r\n      console.log(response.data);\r\n\r\n      await store.commit(Type.commit.updatePlayList, response.data.playlist);\r\n    });\r\n\r\n    return {\r\n      store,\r\n      tracks,\r\n    };\r\n  },\r\n};\r\n","import { render } from \"./playList.vue?vue&type=template&id=9ec2021c&scoped=true\"\nimport script from \"./playList.vue?vue&type=script&lang=ts\"\nexport * from \"./playList.vue?vue&type=script&lang=ts\"\n\nimport \"./playList.vue?vue&type=style&index=0&id=9ec2021c&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-9ec2021c\"\n\nexport default script"],"sourceRoot":""}